{# Each piece property needs to be also added in app.js inside the projection property of "timeline-widgets" #}
{% for piece in data.widget._pieces %}
  <span class="timelineEvent {{piece.eventType}}"
    data-title="{{piece.title}}"
    {% if piece.eventType != "empty" %}data-event-type="{{piece.eventType}}"{% endif %}
    {% if piece.dateInit.length %}data-date-init="{{piece.dateInit | dump}}"{% endif %}
    {% if piece.dateEnd.length %}data-date-end="{{piece.dateEnd | dump}}"{% endif %}
    {% if piece.periodicity %}data-periodicity="{{piece.periodicity}}"{% endif %}
    {% if piece.distribution %}data-distribution="{{piece.distribution}}"{% endif %}
    {% if piece.director.length %}data-director="{{piece.director | dump}}"{% endif %}
    {% if piece.place.length %}data-place="{{piece.place | dump}}"{% endif %}
    {% if piece.filiation %}data-filiation="{{piece.filiation}}"{% endif %}
    {% if piece.audience %}data-audience="{{piece.audience}}"{% endif %}
    {% if piece.text and piece.text.items.length %}data-text="{{piece.text.items[0].content}}"{% endif %}
    {% if piece.links.length %}data-links="{{piece.links | dump}}"{% endif %}
    {% if piece.img and piece.img.items.length %}data-img="{{ apos.attachments.url(piece.img.items[0]._pieces[0].item.attachment, {size: 'one-sixth'}) }}"{% endif %}
  >
  </span>
{% endfor %}